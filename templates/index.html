{# templates/index.html #}

{% extends "layout.html" %}

{% block body %}
<div class="row">
    <div class="col-md-12">
        <h1 class="page-header">
            InsultBot Image Uploader <small>Get your meme to the masses</small>
        </h1>
    </div>
    <div class="col-md-12">
        <div id="app">
            <div class="upload">
                <form name="imageUploadForm" id="upload-form" action="" method="post" enctype="multipart/form-data">
                    <input type=file name=file>
                </form>
                <button onclick="submitForm(this)"  data-groupid={{groupId}}>Submit</button>
                <p id="imageUploadForm-uploadStatus" class="status-text"></p>
            </div>
            <div class="image-list">
                <p>List of current memes:</p>
                <p>(Reload page to see recent upload)</p>
                <ul>Images:
                {% for image in fileList['images'] %}
                    <li>
                        <a href="/api/files/{{groupId}}/images/{{image}}">{{ image }}</a>
                        <button onclick="deleteFile(this)" data-file={{image}} data-groupid={{groupId}}>Delete</button>
                    </li>
                {% endfor %}
                </ul>
                <ul>Responses:
                    {% for response in fileList['text'] %}
                        <li>
                            <a href="/api/files/{{groupId}}/text/{{response}}">{{ response }}</a>
                            <button onclick="deleteFile(this)" data-file={{response}} data-groupid={{groupId}}>Delete</button>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div> 
    <!-- /. ROW  -->
    <footer><p>Have a terrible fucking day!</p></footer>
</div>
{% endblock %}